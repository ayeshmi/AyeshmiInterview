{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ayesh\\\\OneDrive\\\\Desktop\\\\Wavenet\\\\Frontend\\\\src\\\\components\\\\pages\\\\ViewAllSubscribers.js\";\nimport React, { Component } from 'react';\nimport authService from '../services/auth.service';\nimport './ViewAllUserDetails.css';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { Card, Button } from 'react-bootstrap';\nimport Form from \"react-validation/build/form\";\nimport Input from \"react-validation/build/input\";\nimport CheckButton from \"react-validation/build/button\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ntoast.configure();\n\nconst required = value => {\n  if (!value) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger\",\n      role: \"alert\",\n      children: \"This field is required!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 7\n    }, this);\n  }\n};\n\nclass ListEmployeeComponent extends Component {\n  //create constructor\n  constructor(props) {\n    super(props);\n    this.addNewBook = this.addNewBook.bind(this);\n    this.addNewBook1 = this.addNewBook1.bind(this);\n    this.onChangeSearch = this.onChangeSearch.bind(this);\n    this.handleSearch = this.handleSearch.bind(this);\n    this.viewSelectedUser = this.viewSelectedUser.bind(this);\n    this.updateUser = this.updateUser.bind(this);\n    this.state = {\n      employees: [],\n      search: \"\"\n    };\n  } //get existing data\n\n\n  componentDidMount() {\n    authService.getUsers().then(res => {\n      this.setState({\n        employees: res.data\n      });\n    });\n  }\n\n  onChangeSearch(e) {\n    this.setState({\n      search: e.target.value\n    });\n  }\n\n  addNewBook(e) {\n    this.props.history.push(`/viewBlackListUsers`);\n    window.location.reload();\n  }\n\n  addNewBook1(e) {\n    this.props.history.push(`/viewAllReservationDetails`);\n    window.location.reload();\n  }\n\n  notify() {\n    // Calling toast method by passing string\n    toast.success(this.state.message);\n  }\n\n  handleSearch(e) {\n    const h1 = this.state.search;\n    this.props.history.push(`/searchUser/${h1}`);\n    window.location.reload();\n  }\n\n  updateUser(id) {\n    this.props.history.push(`/updateUser/${id}`);\n    window.location.reload();\n  }\n\n  viewSelectedUser(id) {\n    this.props.history.push(`/viewSelectedUser/${id}`);\n    window.location.reload();\n  }\n\n  DeleteUser(id) {\n    authService.deleteUser(id).then(response => {\n      this.setState({\n        message: response.data.message,\n        successful: true\n      });\n      authService.getUsers().then(res => {\n        this.setState({\n          employees: res.data\n        });\n      });\n      this.notify();\n    }, error => {\n      const resMessage = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n      this.setState({\n        successful: false,\n        message: resMessage\n      });\n      toast.error(this.state.message);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bodyOfCategoryBook\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        id: \"headerTitle1\",\n        children: /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Handle Subscribers\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 31\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cards__items13 \",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            style: {\n              width: '12rem',\n              backgroundColor: 'rgb(119, 175, 212)'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n              variant: \"top\",\n              src: \"https://www.price2spy.com/blog/wp-content/uploads/2017/10/29-295797_listening-to-customers-png-cartoon-happy-customer-png.png\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"primary\",\n                onClick: this.addNewBook,\n                children: \"View Black List Customers\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            onSubmit: this.handleSearch,\n            ref: c => {\n              this.form = c;\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Input, {\n                placeholder: \"Search By Title, Author or Any Keyword\",\n                type: \"text\",\n                name: \"search\",\n                value: this.state.search,\n                onChange: this.onChangeSearch,\n                validations: [required],\n                className: \"searchTextFieldVB12\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"commentButtonViewAll12\",\n              onClick: this.handleSearch,\n              children: \"Search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(CheckButton, {\n              style: {\n                display: \"none\"\n              },\n              ref: c => {\n                this.checkBtn = c;\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rowV\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"back2\",\n                children: \" User ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"back2\",\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"back2\",\n                children: \"Profile Image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"back2\",\n                children: \"User Type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"back2\",\n                children: \"Username\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"back2\",\n                children: \" Date Of Birth\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"back2\",\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: this.state.employees.map(employee => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"back1\",\n                children: employee.id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"back1\",\n                children: employee.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"back1\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: employee.imageOfProfile,\n                  className: \"viewAllImage\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"back1\",\n                children: employee.userType\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"back1\",\n                children: employee.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"back1\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"buttonVR\",\n                  onClick: () => this.updateUser(employee.id),\n                  disabled: this.state.loading,\n                  children: [this.state.loading && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"spinner-border spinner-border-sm\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 196,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"UPDATE\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 198,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"back1\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"buttonVR\",\n                  onClick: () => this.DeleteUser(employee.id),\n                  disabled: this.state.loading,\n                  children: [this.state.loading && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"spinner-border spinner-border-sm\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 209,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"DELETE\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"back1\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"buttonVR\",\n                  onClick: () => this.viewSelectedUser(employee.id),\n                  disabled: this.state.loading,\n                  children: [this.state.loading && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"spinner-border spinner-border-sm\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 221,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"SELECT\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 223,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 23\n              }, this)]\n            }, employee.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default ListEmployeeComponent;","map":{"version":3,"sources":["C:/Users/ayesh/OneDrive/Desktop/Wavenet/Frontend/src/components/pages/ViewAllSubscribers.js"],"names":["React","Component","authService","toast","Card","Button","Form","Input","CheckButton","configure","required","value","ListEmployeeComponent","constructor","props","addNewBook","bind","addNewBook1","onChangeSearch","handleSearch","viewSelectedUser","updateUser","state","employees","search","componentDidMount","getUsers","then","res","setState","data","e","target","history","push","window","location","reload","notify","success","message","h1","id","DeleteUser","deleteUser","response","successful","error","resMessage","toString","render","width","backgroundColor","c","form","display","checkBtn","map","employee","email","imageOfProfile","userType","username","loading"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport authService from '../services/auth.service';\r\nimport './ViewAllUserDetails.css';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { Card, Button } from 'react-bootstrap';\r\nimport Form from \"react-validation/build/form\";\r\nimport Input from \"react-validation/build/input\";\r\nimport CheckButton from \"react-validation/build/button\";\r\ntoast.configure()\r\n\r\nconst required = value => {\r\n  if (!value) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        This field is required!\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nclass ListEmployeeComponent extends Component {\r\n  \r\n  //create constructor\r\n  constructor(props) {\r\n    super(props)\r\n    this.addNewBook = this.addNewBook.bind(this);\r\n    this.addNewBook1 = this.addNewBook1.bind(this);\r\n    this.onChangeSearch = this.onChangeSearch.bind(this);\r\n    this.handleSearch = this.handleSearch.bind(this);\r\n    this.viewSelectedUser=this.viewSelectedUser.bind(this);\r\n    this.updateUser=this.updateUser.bind(this);\r\n    this.state = {\r\n      employees: [],\r\n      search: \"\"\r\n    }\r\n  }\r\n\r\n  //get existing data\r\n  componentDidMount() {\r\n    authService.getUsers().then((res) => {\r\n    this.setState({ employees: res.data });\r\n    });\r\n  }\r\n\r\n  onChangeSearch(e) {\r\n    this.setState({\r\n      search: e.target.value\r\n    });\r\n  }\r\n\r\n  addNewBook(e) {\r\n    this.props.history.push(`/viewBlackListUsers`);\r\n    window.location.reload();\r\n  }\r\n  addNewBook1(e) {\r\n    this.props.history.push(`/viewAllReservationDetails`);\r\n    window.location.reload();\r\n  }\r\n  notify() {\r\n\r\n    // Calling toast method by passing string\r\n    toast.success(this.state.message)\r\n  }\r\n\r\n  handleSearch(e) {\r\n    const h1 = this.state.search;\r\n    this.props.history.push(`/searchUser/${h1}`);\r\n    window.location.reload();\r\n\r\n  }\r\n\r\n  updateUser(id) {\r\n    \r\n    this.props.history.push(`/updateUser/${id}`);\r\n    window.location.reload();\r\n\r\n  }\r\n\r\n  viewSelectedUser(id){\r\n    this.props.history.push(`/viewSelectedUser/${id}`);\r\n    window.location.reload();\r\n  }\r\n\r\n  DeleteUser(id) {\r\n    authService.deleteUser(id).then(\r\n      response => {\r\n        this.setState({\r\n          message: response.data.message,\r\n          successful: true\r\n        });\r\n        authService.getUsers().then((res) => {\r\n          this.setState({ employees: res.data });\r\n        });\r\n\r\n        this.notify();\r\n      },\r\n      error => {\r\n        const resMessage =\r\n          (error.response &&\r\n            error.response.data &&\r\n            error.response.data.message) ||\r\n            error.message ||\r\n            error.toString();\r\n\r\n        this.setState({\r\n          successful: false,\r\n          message: resMessage\r\n        });\r\n\r\n        toast.error(this.state.message);\r\n      }\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className='bodyOfCategoryBook'>\r\n        <h2 id=\"headerTitle1\"><b>Handle Subscribers</b></h2>\r\n        <br></br>\r\n        <div className='cards__items13 '>\r\n          <div>\r\n            <Card style={{ width: '12rem', backgroundColor: 'rgb(119, 175, 212)' }}>\r\n              <Card.Img variant=\"top\" src=\"https://www.price2spy.com/blog/wp-content/uploads/2017/10/29-295797_listening-to-customers-png-cartoon-happy-customer-png.png\" />\r\n              <Card.Body>\r\n                <Button variant=\"primary\" onClick={this.addNewBook}>View Black List Customers</Button>\r\n              </Card.Body>\r\n            </Card>\r\n          </div>\r\n          \r\n          <div>\r\n            <Form\r\n              onSubmit={this.handleSearch}\r\n              ref={c => {\r\n                this.form = c;\r\n              }}>\r\n              <div>\r\n\r\n                <Input\r\n                  placeholder=\"Search By Title, Author or Any Keyword\"\r\n                  type=\"text\"\r\n                  name=\"search\"\r\n                  value={this.state.search}\r\n                  onChange={this.onChangeSearch}\r\n                  validations={[required]}\r\n                  className=\"searchTextFieldVB12\"\r\n                />\r\n\r\n              </div>\r\n\r\n              <button className=\"commentButtonViewAll12\" onClick={this.handleSearch}>Search</button>\r\n\r\n              <CheckButton\r\n                style={{ display: \"none\" }}\r\n                ref={c => {\r\n                  this.checkBtn = c;\r\n                }} />\r\n\r\n            </Form>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"rowV\">\r\n\r\n          <table >\r\n            <thead>\r\n              <tr>\r\n                <th className='back2'> User ID</th>\r\n                <th className='back2'>Email</th>\r\n                <th className='back2'>Profile Image</th>\r\n                <th className='back2'>User Type</th>\r\n                <th className='back2'>Username</th>\r\n                <th className='back2'> Date Of Birth</th>\r\n\r\n                <th className='back2'>Delete</th>\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n              {\r\n                this.state.employees.map(\r\n                  employee =>\r\n                    <tr key={employee.id}>\r\n                      <td className='back1'>{employee.id}</td>\r\n                      <td className='back1'>{employee.email}</td>\r\n                      <td className='back1'><img src={employee.imageOfProfile} className='viewAllImage' /></td>\r\n                      <td className='back1'>{employee.userType}</td>\r\n                      <td className='back1'>{employee.username}</td>\r\n                      \r\n                      <td className='back1'>\r\n                        <button className=\"buttonVR\"\r\n                          onClick={() => this.updateUser(employee.id)}\r\n                          disabled={this.state.loading} >\r\n                        \r\n                          {this.state.loading && (\r\n                            <span className=\"spinner-border spinner-border-sm\"></span>\r\n                          )}\r\n                          <span>UPDATE</span>\r\n\r\n                        </button>\r\n                      </td>\r\n\r\n                      <td className='back1'>\r\n                        <button className=\"buttonVR\"\r\n                          onClick={() => this.DeleteUser(employee.id)}\r\n                          disabled={this.state.loading}\r\n                        >\r\n                          {this.state.loading && (\r\n                            <span className=\"spinner-border spinner-border-sm\"></span>\r\n                          )}\r\n                          <span>DELETE</span>\r\n                        </button>\r\n                      </td>\r\n\r\n                      <td className='back1'>\r\n                        <button className=\"buttonVR\"\r\n                          onClick={() => this.viewSelectedUser(employee.id)}\r\n                          disabled={this.state.loading}\r\n                        >\r\n                          {this.state.loading && (\r\n                            <span className=\"spinner-border spinner-border-sm\"></span>\r\n                          )}\r\n                          <span>SELECT</span>\r\n                        </button>\r\n                      </td>\r\n\r\n                    </tr>\r\n                )\r\n              }\r\n            </tbody>\r\n          </table>\r\n\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ListEmployeeComponent;"]},"metadata":{},"sourceType":"module"}