{"ast":null,"code":"$(document).ready(function () {\n  var item, tile, author, publisher, bookLink, bookImg;\n  var outputList = document.getElementById(\"list-output\");\n  var bookUrl = \"https://www.googleapis.com/books/v1/volumes?q=\";\n  var apiKey = \"key=AIzaSyDtXC7kb6a7xKJdm_Le6_BYoY5biz6s8Lw\";\n  var placeHldr = '<img src=\"https://via.placeholder.com/150\">';\n  var searchData; //listener for search button\n\n  $(\"#search\").click(function () {\n    outputList.innerHTML = \"\"; //empty html output\n\n    document.body.style.backgroundImage = \"url('')\";\n    searchData = $(\"#search-box\").val(); //handling empty search input field\n\n    if (searchData === \"\" || searchData === null) {\n      displayError();\n    } else {\n      // console.log(searchData);\n      // $.get(\"https://www.googleapis.com/books/v1/volumes?q=\"+searchData, getBookData()});\n      $.ajax({\n        url: bookUrl + searchData,\n        dataType: \"json\",\n        success: function (response) {\n          console.log(response);\n\n          if (response.totalItems === 0) {\n            alert(\"no result!.. try again\");\n          } else {\n            $(\"#title\").animate({\n              'margin-top': '5px'\n            }, 1000); //search box animation\n\n            $(\".book-list\").css(\"visibility\", \"visible\");\n            displayResults(response);\n          }\n        },\n        error: function () {\n          alert(\"Something went wrong.. <br>\" + \"Try again!\");\n        }\n      });\n    }\n\n    $(\"#search-box\").val(\"\"); //clearn search box\n  });\n  /*\r\n  * function to display result in index.html\r\n  * @param response\r\n  */\n\n  function displayResults(response) {\n    for (var i = 0; i < response.items.length; i += 2) {\n      item = response.items[i];\n      title1 = item.volumeInfo.title;\n      author1 = item.volumeInfo.authors;\n      publisher1 = item.volumeInfo.publisher;\n      bookLink1 = item.volumeInfo.previewLink;\n      bookIsbn = item.volumeInfo.industryIdentifiers[1].identifier;\n      bookImg1 = item.volumeInfo.imageLinks ? item.volumeInfo.imageLinks.thumbnail : placeHldr;\n      item2 = response.items[i + 1];\n      title2 = item2.volumeInfo.title;\n      author2 = item2.volumeInfo.authors;\n      publisher2 = item2.volumeInfo.publisher;\n      bookLink2 = item2.volumeInfo.previewLink;\n      bookIsbn2 = item2.volumeInfo.industryIdentifiers[1].identifier;\n      bookImg2 = item2.volumeInfo.imageLinks ? item2.volumeInfo.imageLinks.thumbnail : placeHldr; // in production code, item.text should have the HTML entities escaped.\n\n      outputList.innerHTML += '<div class=\"row mt-4\">' + formatOutput(bookImg1, title1, author1, publisher1, bookLink1, bookIsbn) + formatOutput(bookImg2, title2, author2, publisher2, bookLink2, bookIsbn2) + '</div>';\n      console.log(outputList);\n    }\n  }\n  /*\r\n  * card element formatter using es6 backticks and templates (indivial card)\r\n  * @param bookImg title author publisher bookLink\r\n  * @return htmlCard\r\n  */\n\n\n  function formatOutput(bookImg, title, author, publisher, bookLink, bookIsbn) {\n    // console.log(title + \"\"+ author +\" \"+ publisher +\" \"+ bookLink+\" \"+ bookImg)\n    var viewUrl = 'book.html?isbn=' + bookIsbn; //constructing link for bookviewer\n\n    var htmlCard = `<div class=\"col-lg-6\">\n       <div class=\"card\" style=\"\">\n         <div class=\"row no-gutters\">\n           <div class=\"col-md-4\">\n             <img src=\"${bookImg}\" class=\"card-img\" alt=\"...\">\n           </div>\n           <div class=\"col-md-8\">\n             <div class=\"card-body\">\n               <h5 class=\"card-title\">${title}</h5>\n               <p class=\"card-text\">Author: ${author}</p>\n               <p class=\"card-text\">Publisher: ${publisher}</p>\n               <a target=\"_blank\" href=\"${viewUrl}\" class=\"btn btn-secondary\">Read Book</a>\n             </div>\n           </div>\n         </div>\n       </div>\n     </div>`;\n    return htmlCard;\n  } //handling error for empty search box\n\n\n  function displayError() {\n    alert(\"search term can not be empty!\");\n  }\n});","map":{"version":3,"sources":["C:/Users/ayesh/EIRLSassignment/src/components/pages/APIIntegration.js"],"names":["$","document","ready","item","tile","author","publisher","bookLink","bookImg","outputList","getElementById","bookUrl","apiKey","placeHldr","searchData","click","innerHTML","body","style","backgroundImage","val","displayError","ajax","url","dataType","success","response","console","log","totalItems","alert","animate","css","displayResults","error","i","items","length","title1","volumeInfo","title","author1","authors","publisher1","bookLink1","previewLink","bookIsbn","industryIdentifiers","identifier","bookImg1","imageLinks","thumbnail","item2","title2","author2","publisher2","bookLink2","bookIsbn2","bookImg2","formatOutput","viewUrl","htmlCard"],"mappings":"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","sourcesContent":["$(document).ready(function() {\r\n  var item, tile, author, publisher, bookLink, bookImg;\r\n  var outputList = document.getElementById(\"list-output\");\r\n  var bookUrl = \"https://www.googleapis.com/books/v1/volumes?q=\";\r\n  var apiKey = \"key=AIzaSyDtXC7kb6a7xKJdm_Le6_BYoY5biz6s8Lw\";\r\n  var placeHldr = '<img src=\"https://via.placeholder.com/150\">';\r\n  var searchData;\r\n\r\n  //listener for search button\r\n  $(\"#search\").click(function() {\r\n    outputList.innerHTML = \"\"; //empty html output\r\n    document.body.style.backgroundImage = \"url('')\";\r\n     searchData = $(\"#search-box\").val();\r\n     //handling empty search input field\r\n     if(searchData === \"\" || searchData === null) {\r\n       displayError();\r\n     }\r\n    else {\r\n       // console.log(searchData);\r\n       // $.get(\"https://www.googleapis.com/books/v1/volumes?q=\"+searchData, getBookData()});\r\n       $.ajax({\r\n          url: bookUrl + searchData,\r\n          dataType: \"json\",\r\n          success: function(response) {\r\n            console.log(response)\r\n            if (response.totalItems === 0) {\r\n              alert(\"no result!.. try again\")\r\n            }\r\n            else {\r\n              $(\"#title\").animate({'margin-top': '5px'}, 1000); //search box animation\r\n              $(\".book-list\").css(\"visibility\", \"visible\");\r\n              displayResults(response);\r\n            }\r\n          },\r\n          error: function () {\r\n            alert(\"Something went wrong.. <br>\"+\"Try again!\");\r\n          }\r\n        });\r\n      }\r\n      $(\"#search-box\").val(\"\"); //clearn search box\r\n   });\r\n\r\n   /*\r\n   * function to display result in index.html\r\n   * @param response\r\n   */\r\n   function displayResults(response) {\r\n      for (var i = 0; i < response.items.length; i+=2) {\r\n        item = response.items[i];\r\n        title1 = item.volumeInfo.title;\r\n        author1 = item.volumeInfo.authors;\r\n        publisher1 = item.volumeInfo.publisher;\r\n        bookLink1 = item.volumeInfo.previewLink;\r\n        bookIsbn = item.volumeInfo.industryIdentifiers[1].identifier\r\n        bookImg1 = (item.volumeInfo.imageLinks) ? item.volumeInfo.imageLinks.thumbnail : placeHldr ;\r\n\r\n        item2 = response.items[i+1];\r\n        title2 = item2.volumeInfo.title;\r\n        author2 = item2.volumeInfo.authors;\r\n        publisher2 = item2.volumeInfo.publisher;\r\n        bookLink2 = item2.volumeInfo.previewLink;\r\n        bookIsbn2 = item2.volumeInfo.industryIdentifiers[1].identifier\r\n        bookImg2 = (item2.volumeInfo.imageLinks) ? item2.volumeInfo.imageLinks.thumbnail : placeHldr ;\r\n\r\n        // in production code, item.text should have the HTML entities escaped.\r\n        outputList.innerHTML += '<div class=\"row mt-4\">' +\r\n                                formatOutput(bookImg1, title1, author1, publisher1, bookLink1, bookIsbn) +\r\n                                formatOutput(bookImg2, title2, author2, publisher2, bookLink2, bookIsbn2) +\r\n                                '</div>';\r\n\r\n        console.log(outputList);\r\n      }\r\n   }\r\n\r\n   /*\r\n   * card element formatter using es6 backticks and templates (indivial card)\r\n   * @param bookImg title author publisher bookLink\r\n   * @return htmlCard\r\n   */\r\n   function formatOutput(bookImg, title, author, publisher, bookLink, bookIsbn) {\r\n     // console.log(title + \"\"+ author +\" \"+ publisher +\" \"+ bookLink+\" \"+ bookImg)\r\n     var viewUrl = 'book.html?isbn='+bookIsbn; //constructing link for bookviewer\r\n     var htmlCard = `<div class=\"col-lg-6\">\r\n       <div class=\"card\" style=\"\">\r\n         <div class=\"row no-gutters\">\r\n           <div class=\"col-md-4\">\r\n             <img src=\"${bookImg}\" class=\"card-img\" alt=\"...\">\r\n           </div>\r\n           <div class=\"col-md-8\">\r\n             <div class=\"card-body\">\r\n               <h5 class=\"card-title\">${title}</h5>\r\n               <p class=\"card-text\">Author: ${author}</p>\r\n               <p class=\"card-text\">Publisher: ${publisher}</p>\r\n               <a target=\"_blank\" href=\"${viewUrl}\" class=\"btn btn-secondary\">Read Book</a>\r\n             </div>\r\n           </div>\r\n         </div>\r\n       </div>\r\n     </div>`\r\n     return htmlCard;\r\n   }\r\n\r\n   //handling error for empty search box\r\n   function displayError() {\r\n     alert(\"search term can not be empty!\")\r\n   }\r\n\r\n});\r\n\r\n \r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}