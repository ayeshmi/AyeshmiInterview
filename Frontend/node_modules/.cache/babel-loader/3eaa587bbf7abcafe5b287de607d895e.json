{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ayesh\\\\EIRLSassignment\\\\src\\\\components\\\\pages\\\\ViewSelectedVideoCategory.js\";\nimport React, { Component } from 'react';\nimport authService from '../services/auth.service';\nimport './ViewSelectedCategoryBook.css';\nimport Form from \"react-validation/build/form\";\nimport Input from \"react-validation/build/input\";\nimport CheckButton from \"react-validation/build/button\";\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport CardItem from \"../CardItem\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Card, Button } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ntoast.configure();\n\nconst required = value => {\n  if (!value) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger\",\n      role: \"alert\",\n      children: \"This field is required!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 9\n    }, this);\n  }\n};\n\nclass ListBooks extends Component {\n  constructor(props) {\n    super(props);\n    this.handleSearch = this.handleSearch.bind(this);\n    this.addNewBook = this.addNewBook.bind(this);\n    this.onChangeSearch = this.onChangeSearch.bind(this);\n    this.state = {\n      category: this.props.match.params.category,\n      books: []\n    };\n  }\n\n  onChangeSearch(e) {\n    this.setState({\n      search: e.target.value\n    });\n  }\n\n  componentDidMount() {\n    authService.viewSelectedCategoryVideos(this.state.category).then(res => {\n      this.setState({\n        books: res.data\n      });\n    });\n  }\n\n  DeleteBook(id) {\n    authService.deleteBookById(id).then(response => {\n      this.setState({\n        message: response.data.message,\n        successful: true\n      });\n      authService.getBooks().then(res => {\n        this.setState({\n          books: res.data\n        });\n      });\n      this.notify();\n    }, error => {\n      const resMessage = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n      this.setState({\n        successful: false,\n        message: resMessage\n      });\n      this.notify();\n    });\n  }\n\n  notify() {\n    // Calling toast method by passing string\n    toast(this.state.message);\n  }\n\n  handleSearch(e) {\n    const h1 = this.state.search;\n    this.props.history.push(`/searchBookResultVB/${h1}`);\n    window.location.reload();\n  }\n\n  addNewBook(e) {\n    const h1 = this.state.search;\n    this.props.history.push(`/addBook`);\n    window.location.reload();\n  }\n\n  viewSelectedBookDetails(id) {\n    this.props.history.push(`/viewSelectedBook/${id}`);\n    window.location.reload();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bodyOfCategoryBook\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        id: \"headerTitle1\",\n        children: /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Handle Books\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 38\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 16\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 16\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"cards__items14 \",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cards__items14 \",\n          children: this.state.books.map(book => /*#__PURE__*/_jsxDEV(Card, {\n            style: {\n              width: '18rem',\n              backgroundColor: 'rgb(74, 165, 201)'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n              variant: \"top\",\n              className: \"cardImage12\",\n              src: book.imageOfVideo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: book.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 14\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  color: 'black'\n                },\n                children: book.author\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  color: 'black'\n                },\n                children: book.year\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  color: 'black'\n                },\n                children: book.category\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"primary\",\n                style: {\n                  alignContent: 'center'\n                },\n                onClick: () => this.viewSelectedBookDetails(book.id),\n                children: \"View\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 16\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 18\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 16\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default ListBooks;","map":{"version":3,"sources":["C:/Users/ayesh/EIRLSassignment/src/components/pages/ViewSelectedVideoCategory.js"],"names":["React","Component","authService","Form","Input","CheckButton","toast","CardItem","Card","Button","configure","required","value","ListBooks","constructor","props","handleSearch","bind","addNewBook","onChangeSearch","state","category","match","params","books","e","setState","search","target","componentDidMount","viewSelectedCategoryVideos","then","res","data","DeleteBook","id","deleteBookById","response","message","successful","getBooks","notify","error","resMessage","toString","h1","history","push","window","location","reload","viewSelectedBookDetails","render","map","book","width","backgroundColor","imageOfVideo","title","color","author","year","alignContent"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport authService from '../services/auth.service';\r\nimport './ViewSelectedCategoryBook.css';\r\nimport Form from \"react-validation/build/form\";\r\nimport Input from \"react-validation/build/input\";\r\nimport CheckButton from \"react-validation/build/button\";\r\nimport {toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport CardItem from \"../CardItem\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { Card, Button } from 'react-bootstrap';\r\ntoast.configure()\r\n\r\nconst required = value => {\r\n    if (!value) {\r\n      return (\r\n        <div className=\"alert alert-danger\" role=\"alert\">\r\n          This field is required!\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\nclass ListBooks extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.handleSearch = this.handleSearch.bind(this);\r\n        this.addNewBook=this.addNewBook.bind(this);\r\n        this.onChangeSearch = this.onChangeSearch.bind(this);\r\n        this.state={\r\n            category:this.props.match.params.category,\r\n            books: []\r\n        }   \r\n    }\r\n\r\n    \r\n    onChangeSearch(e) {\r\n        this.setState({\r\n          search: e.target.value\r\n        });\r\n      }\r\n\r\ncomponentDidMount(){\r\n    authService.viewSelectedCategoryVideos(this.state.category).then((res) => {\r\n          this.setState({books:res.data});\r\n    });\r\n}\r\n\r\nDeleteBook(id){\r\n    authService.deleteBookById(id).then(\r\n    \r\n        response => {\r\n          this.setState({\r\n            message: response.data.message,\r\n            successful: true\r\n          });\r\n          authService.getBooks().then((res) => {\r\n            this.setState({books:res.data});\r\n      });\r\n        this.notify();\r\n        },\r\n        error => {\r\n          const resMessage =\r\n            (error.response &&\r\n              error.response.data &&\r\n              error.response.data.message) ||\r\n            error.message ||\r\n            error.toString();\r\n            \r\n\r\n          this.setState({\r\n            successful: false,\r\n            message: resMessage\r\n          });\r\n          this.notify();\r\n        }\r\n        \r\n      );\r\n}\r\n\r\nnotify (){\r\n \r\n    // Calling toast method by passing string\r\n    toast(this.state.message)\r\n}\r\n\r\nhandleSearch(e){\r\n    \r\n    const h1=this.state.search;\r\n    this.props.history.push(`/searchBookResultVB/${h1}`);\r\n      window.location.reload();\r\n\r\n}\r\naddNewBook(e){\r\n    \r\n  const h1=this.state.search;\r\n  this.props.history.push(`/addBook`);\r\n    window.location.reload();\r\n\r\n}\r\nviewSelectedBookDetails(id){\r\n \r\n    this.props.history.push(`/viewSelectedBook/${id}`);\r\n      window.location.reload();\r\n  \r\n  }\r\n\r\n    render() {\r\n        return (\r\n            <div className='bodyOfCategoryBook'>\r\n               <h2 id=\"headerTitle1\"><b>Handle Books</b></h2> \r\n               <br></br><br></br>\r\n               <ul className='cards__items14 '>\r\n                 <div className='cards__items14 '> \r\n                 {\r\n                               this.state.books.map(\r\n                                   book =>\r\n               <Card style={{ width: '18rem', backgroundColor:'rgb(74, 165, 201)' }}>\r\n      <Card.Img variant=\"top\" className='cardImage12' src={book.imageOfVideo} />\r\n      <Card.Body>\r\n          <p><b>{book.title}</b></p>\r\n          <p style={{ color:'black' }}>{book.author}</p>\r\n          <p style={{ color:'black' }}>{book.year}</p>\r\n          <p style={{ color:'black' }}>{book.category}</p>\r\n        <Button variant=\"primary\" style={{ alignContent:'center' }}  onClick={()=>this.viewSelectedBookDetails(book.id)}>View</Button>\r\n      </Card.Body>\r\n    </Card>\r\n                               )}\r\n    </div>\r\n    \r\n    </ul>\r\n            <br></br>\r\n               \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ListBooks;"]},"metadata":{},"sourceType":"module"}